<?php

$form = FormFacade::Form()
	->add(FormFacade::Text('external_id', 'Внешний ID')
		->setComment('ID во внешних базах данных, например на сайте world-art.ru')
		->setDefaultValue(0)
		->setFilter('int')
		->setFilter('length', array('max'=>6)))
	->add(FormFacade::Select('type', 'Тип аниме', array(
		'use_key'=>true,
		'optionsByQuery'=>'SELECT type_id AS `key`, name AS `value` FROM catalog_item_type ORDER BY name DESC'))
		->setDefaultValue('tv'))
	->add(FormFacade::Text('name_ru', 'Русское название')
		->setFilter('empty')
		->setFilter('length', array('max'=>128)))
	->add(FormFacade::Text('name_en', 'Английское название')
		->setFilter('empty')
		->setFilter('length', array('max'=>128)))
	->add(FormFacade::Date('date_start', 'Дата начала сериала')
		->setDefaultValue(date('d.m.Y'))
		->setFilter('empty'))
	->add(FormFacade::Date('date_end', 'Дата завершения сериала')
		->setComment('Если сериал продолжает выпускаться или это не сериал оставьте поле пустым'))
	->add(FormFacade::MultiSelect('genre', 'Жанр', array(
		'use_key'=>true,
		'optionsByQuery'=>'SELECT genre_id AS `key`, name AS `value` FROM `catalog_genres` ORDER BY name ASC'))
		->setComment('Можно выбрать несколько жанров удерживая кнопку Ctrl')
		->setViewParams(array('size'=>5)))
	->add(FormFacade::Select('production', 'Производство', array(
		'use_key'=>true,
		'optionsByQuery'=>'SELECT country_id AS `key`, name AS `value` FROM catalog_country ORDER BY name ASC'))
		->setDefaultValue('jp'))
	->add(FormFacade::Text('duration', 'Продолжительность')
		->setComment('Укажите продолжительность одной серии, если это сериал или фильма в минутах')
		->setDefaultValue(25)
		->setViewParams(array('length'=>3))
		->setFilter('int')
		->setFilter('length', array('max'=>3)))
	->add(FormFacade::TextArea('summary', 'Краткое содержание')
		->setViewParams(array('cols'=>35,'rows'=>5)))
	->add(FormFacade::Collection()
		->add(FormFacade::Text('image-url', 'URL')
			->setFilter('length', array('max'=>256))
			->setComment('Загрузка картинки с удаленного сервера'))
		->add(FormFacade::File('image-file', 'Зугрузить')
			->setComment('Загрузка картинки с локальной машины')))
	->add(FormFacade::Text('path', 'Путь на диске')
		->setComment('Полный путь расположения аниме на диске')
		->setFilter('empty')
		->setFilter('length', array('max'=>256)))
	->add(FormFacade::Text('storage_id', 'ID хранилища')
		->setComment('Рекомендуется использовать числовые идентификаторы, но допускается использование и других символов')
		->setFilter('empty')
		->setFilter('length', array('max'=>32)))
	->add(FormFacade::TextArea('episodes', 'Список эпизодов')
		->setViewParams(array('cols'=>35,'rows'=>12))
		->setComment('Список эпизодов, по одному на каждую строчку. Серии можно разбивать на сезоны. '
		. 'Пример описания сезона: Первый сезон "Ranma 1/2" (c 15.04.1989 по 16.09.1989)'))
	->add(FormFacade::Text('translate', 'Перевод')
		->setComment('Перевод субтитров или озвучки')
		->setFilter('length', array('max'=>64)))
	->add(FormFacade::YesNo('sub_ru', 'Русские субтитры'))
	->add(FormFacade::TextArea('file_info', 'Информация о файлах')
		->setViewParams(array('cols'=>35,'rows'=>8))
		->setComment('Информация о качестве видео и аудио, кодеках и озвучке'))
	->setName('catalog_item_add')
	->setSubmitTitle('Добавить аниме');
